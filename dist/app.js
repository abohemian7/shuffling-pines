Date.prototype.yyyymmdd=function(){var t=this.getFullYear().toString(),e=(this.getMonth()+1).toString(),n=this.getDate().toString();return retVal=t+"-"+(e[1]?e:"0"+e[0])+"-"+(n[1]?n:"0"+n[0])},angular.module("shuffling",[]).controller("FormController",["localGuests",function(t){this.transDate=(new Date).yyyymmdd,this.localGuests=t.data,this.onSubmit=function(e,n,o,a,s){var r={name:e||"Default name",transitionDate:n.yyyymmdd()||(new Date).yyyymmdd(),status:o||"Drop-off",location:a||"nowhere",preferences:s||"none"};return console.log(JSON.stringify(r)),t.addGuest(r),1},this.onDelete=function(e){t.removeGuest(e)}}]).controller("GuestsController",["localGuests",function(t){this.transDate=(new Date).yyyymmdd,this.localGuests=t.data,this.onSubmit=function(e,n,o,a){var s={name:e||"Default name",transitionDate:n.yyyymmdd()||(new Date).yyyymmdd(),status:o||"Drop-off",location:a||"nowhere"};console.log(JSON.stringify(s)),t.addGuest(s)},this.onDelete=function(e){t.removeGuest(e),this.confirm=!1}}]).service("localGuests",[function(){var t=[],e=function(e){t.push(e),localStorage.setItem("guestList",JSON.stringify(t))};try{t=JSON.parse(localStorage.getItem("guestList"))||[];for(var n=0;n<t.length;n++)t[n]["delete"]&&(t.splice(n,1),n--)}catch(o){console.log(o)}if(console.log(t.length),!t.length){var a={name:"Default name",transitionDate:(new Date).yyyymmdd(),status:"Drop-off",location:"somewhere",preferences:"none"};e(a)}var s=function(e){t[e]["delete"]=!0,localStorage.setItem("guestList",JSON.stringify(t))};return{data:t,addGuest:e,removeGuest:s}}]);